<head>
	<script>
		/* FIXME: so many escapes, this should come from a separate file */
		const project_list = [
			{{ for project in projects }}
				"{ project.mnemonic }",
			{{ endfor }}
		];

		let domain = new URL(window.location);
		domain.username = "{ username | arg_escape }";

		window.onload = () => \{
			for (let mn of project_list) \{
				document.getElementById(`cmd-join-$\{mn}`).innerText = `git-hackme join "$\{domain}/$\{mn}"`;
			}
		};
	</script>
</head>
<html>
	<main>
		Project List
	{{ for project in projects }}
		<div>
			<a href="./{ project.mnemonic }">{ project.mnemonic }</a>
			<p><pre id=cmd-join-{project.mnemonic}>Join command requires Js</pre></p>
			<p><pre id=cmd-clone-{project.mnemonic}>git clone { project.mnemonic }.hackme.local:</pre></p>
		</div>
	{{ endfor }}
	</main>
</html>
